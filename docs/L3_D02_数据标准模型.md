---
id: L3_D02_STD_V0.1
title: 数据标准模型（L3）
level: L3
domain: D02
version: V0.1
status: draft
---

## 1. 范围

- 实体/字段/关系/索引/迁移的标准定义

## 2. 核心结构（占位）

- Entity{ id, name, fields[], constraints[], indexes[] }
- Field{ name, type, nullable, default, constraints }

## 3. 关键不变式（占位）

```text
Invariant D1 (PrimaryKeyUniqueness):
  ∀ entity, key.
    primary_key(entity, key) ⇒ unique(entity, key)

Invariant D2 (ForeignKeyIntegrity):
  ∀ rel(a→b), row_a.
    exists(row_b ∈ b) matching fk(row_a, row_b)

Invariant D3 (MigrationReversibility):
  ∀ migration m.
    has_inverse(m) ∧ apply(m); apply(inverse(m)) = identity
```

## 4. 验证样例（占位）

- D1 → 唯一性：生成冲突样本并断言违反；静态检查唯一键覆盖；参考 `VERIFICATION_MATRIX.md`
- D2 → 外键完整：构造悬挂外键样本，期望失败；参考 `FORMAL_VERIFICATION_SORTING.md`
- D3 → 迁移可逆：apply(m) 后 apply(inverse(m)) 应恢复初始快照；参考 `TESTING_VERIFICATION_SORTING.md`

## 5. 与 L2/L4 映射（占位）

- L2_D02_数据元模型；金融账本/账户对标（Fineract 等）
