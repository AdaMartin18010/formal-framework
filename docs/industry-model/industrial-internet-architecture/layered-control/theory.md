# 工业互联网 分层控制 理论说明

## 1 形式化目标

- 建立现场/单元/车间/企业四层控制模型
- 用时延SLO和可靠性指标刻画跨层控制边界
- 支持控制环（内环/外环）与实时调度建模

## 2 核心概念

- 层级模型：field(毫秒级) / cell(毫秒-十毫秒) / shop(百毫秒) / enterprise(秒级)
- 控制环：内环（运动/过程）外环（优化/调度）
- 调度模型：RM/EDF/固定优先级 + 抖动与丢帧容忍

## 3 平台与协议

- PLC/RTOS/TSN 网络支撑现场层确定性
- OPC UA PubSub/TSN 用于cell/shop层数据/指令
- MES/APS/SCADA 驱动shop/enterprise层闭环

## 4 理论确定性

1 形式化定义：任务τi=(Ci, Ti, Di, Pi) 约束
2 可调度性：∑(Ci/Ti) ≤ n(2^(1/n)−1) 或EDF可行性检测
3 可靠性：MTBF/MTTR 指标→可用性A=MTBF/(MTBF+MTTR)

## 5 常见策略

- 关键任务固定优先级 + 抖动约束 ≤ 1ms
- TSN 时间感知调度保证周期报文准时送达
- 外环每100ms优化一次→下发至内环参数

---
后续补充：混合关键性与故障安全机制形式化描述。
